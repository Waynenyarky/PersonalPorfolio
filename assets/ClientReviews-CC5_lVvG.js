import{_ as e,a as t,b as n,c as r,d as i,f as a,i as o,n as s,o as c,p as l,s as u,t as d,u as f,v as p,y as m}from"./index-Bn0pglL1.js";var h=p(`Quote`,[[`path`,{d:`M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z`,key:`rib7q0`}],[`path`,{d:`M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z`,key:`1ymkrd`}]]),g=p(`Send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),_=n(m()),v=n(u());function y({isOpen:n,onClose:a,language:o,reviewerName:s,rating:l}){let{theme:u}=c(),d=(0,_.useRef)(null),f=u===`dark`?`text-white`:`text-black`,p=u===`dark`?`text-gray-300`:`text-gray-600`,m=u===`dark`?`bg-gray-900`:`bg-white`,h=u===`dark`?`border-gray-800`:`border-gray-200`;if((0,_.useEffect)(()=>{if(!n)return;d.current?.focus();let e=e=>{e.key===`Escape`&&a()};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[n,a]),!n)return null;let g=`focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900`;return(0,v.jsxs)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center px-3 sm:px-4 py-4 sm:py-8 overflow-y-auto`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":`success-title`,onClick:a,children:[(0,v.jsx)(`div`,{className:`absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in`}),(0,v.jsxs)(`div`,{ref:d,tabIndex:-1,role:`document`,className:`relative max-w-md w-full ${m} border ${h} rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden focus:outline-none animate-fade-in-up ${g}`,onClick:e=>e.stopPropagation(),children:[(0,v.jsx)(`button`,{"aria-label":`Close modal`,className:`absolute top-3 right-3 sm:top-4 sm:right-4 w-8 h-8 sm:w-9 sm:h-9 rounded-lg border ${h} hover:border-orange-500 flex items-center justify-center transition-all duration-200 ${f} hover:bg-orange-500/10 ${g}`,onClick:a,children:(0,v.jsx)(r,{size:14,className:`sm:w-4 sm:h-4`})}),(0,v.jsxs)(`div`,{className:`p-6 sm:p-8 lg:p-10 text-center`,children:[(0,v.jsx)(`div`,{className:`mb-4 sm:mb-6 flex justify-center`,children:(0,v.jsxs)(`div`,{className:`relative`,children:[(0,v.jsx)(`div`,{className:`w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-lg shadow-green-500/30 animate-scale-in`,children:(0,v.jsx)(e,{className:`text-white`,size:32,strokeWidth:2.5,style:{width:`clamp(28px, 8vw, 40px)`,height:`clamp(28px, 8vw, 40px)`}})}),(0,v.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-green-500/20 animate-ping`}),(0,v.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-green-500/10 animate-ping`,style:{animationDelay:`0.5s`}})]})}),(0,v.jsx)(`h2`,{id:`success-title`,className:`text-xl sm:text-2xl lg:text-3xl font-bold mb-2 sm:mb-3 ${f}`,children:t(o,`reviewSuccess.title`)||`Thank You!`}),(0,v.jsx)(`p`,{className:`${p} text-sm sm:text-base lg:text-lg mb-4 sm:mb-6 leading-relaxed`,children:s?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(`span`,{className:`font-semibold text-orange-500`,children:s}),`, `,t(o,`reviewSuccess.message`)||`your review has been submitted successfully!`]}):t(o,`reviewSuccess.message`)||`Your review has been submitted successfully!`}),l&&(0,v.jsxs)(`div`,{className:`mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 dark:from-orange-950/30 dark:via-amber-950/20 dark:to-yellow-950/30 rounded-xl border border-orange-200/50 dark:border-orange-900/30`,children:[(0,v.jsx)(`p`,{className:`text-xs sm:text-sm font-semibold mb-1.5 sm:mb-2 ${p}`,children:t(o,`reviewSuccess.ratingLabel`)||`Your Rating`}),(0,v.jsxs)(`div`,{className:`flex items-center justify-center gap-0.5 sm:gap-1`,children:[[...[,,,,,]].map((e,t)=>(0,v.jsx)(i,{className:t<l?`text-orange-500 fill-orange-500`:`text-gray-300 dark:text-gray-600`,size:20,style:{width:`clamp(18px, 5vw, 24px)`,height:`clamp(18px, 5vw, 24px)`}},t)),(0,v.jsxs)(`span`,{className:`ml-1.5 sm:ml-2 text-base sm:text-lg font-bold ${f}`,children:[l,`/5`]})]})]}),(0,v.jsx)(`p`,{className:`${p} text-xs sm:text-sm mb-4 sm:mb-6`,children:t(o,`reviewSuccess.additional`)||`Your feedback helps us improve and serve you better.`}),(0,v.jsx)(`button`,{onClick:a,className:`w-full px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center gap-2 text-sm sm:text-base`,children:t(o,`reviewSuccess.close`)||`Close`})]})]})]})}function b({isOpen:t,onClose:n,reviewData:i,onEmailSent:o}){let{theme:s}=c(),u=(0,_.useRef)(null),[d,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(!1),[g,y]=(0,_.useState)(!1),b=s===`dark`?`text-white`:`text-black`,x=s===`dark`?`text-gray-300`:`text-gray-600`,S=s===`dark`?`bg-gray-900`:`bg-white`,C=s===`dark`?`border-gray-800`:`border-gray-200`;(0,_.useEffect)(()=>{if(!t){h(!1),y(!1),p(!1);return}u.current?.focus();let e=e=>{e.key===`Escape`&&n()};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[t,n]);let w=async()=>{if(i){p(!0),y(!1);try{console.log(`Web3Forms Key check:`,`Key found (length: 36)`);let e=`New Client Review - Rating: ${i.rating}/5`,t=`
      New Review Submitted (Server Down)
      Name: ${i.name}
      Role: ${i.role}
      Company: ${i.company}
      Email: ${i.email||`N/A`}
      Rating: ${i.rating} / 5
      Review:
      ${i.review.replace(/\n/g,`<br>`)}
      Note: Server is down. This was sent via email fallback and should be added to the database when online.
      `,n=new FormData;n.append(`access_key`,`6b834a03-58d7-4569-8cf9-2cf06944525e`),n.append(`subject`,e),n.append(`from_name`,`Portfolio Reviews`),n.append(`email`,i.email||`noreply@portfolio.com`),n.append(`message`,t),console.log(`Sending email to Web3Forms...`);let r=await fetch(`https://api.web3forms.com/submit`,{method:`POST`,body:n});console.log(`Web3Forms response status:`,r.status);let a=await r.json().catch(async()=>{let e=await r.text().catch(()=>``);return console.error(`Failed to parse response:`,e),{error:`Failed to parse response`,text:e}});if(console.log(`Web3Forms response data:`,a),r.ok&&a.success===!0)console.log(`Email sent successfully!`),h(!0),p(!1),o&&setTimeout(()=>{o()},2e3);else{let e=a.message||a.error||`Email sending failed`;throw console.error(`Web3Forms error:`,e,a),Error(e)}}catch(e){console.error(`Email sending error:`,e),console.error(`Error details:`,{message:e?.message,name:e?.name,stack:e?.stack}),y(!0),p(!1)}}};if(!t)return null;let T=`focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900`;return(0,v.jsxs)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center px-4 py-8 overflow-y-auto`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":`review-unavailable-title`,onClick:n,children:[(0,v.jsx)(`div`,{className:`absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in`}),(0,v.jsxs)(`div`,{ref:u,tabIndex:-1,role:`document`,className:`relative max-w-md w-full ${S} border ${C} rounded-2xl shadow-2xl overflow-hidden focus:outline-none animate-fade-in-up ${T}`,onClick:e=>e.stopPropagation(),children:[(0,v.jsx)(`button`,{"aria-label":`Close modal`,className:`absolute top-4 right-4 w-8 h-8 sm:w-9 sm:h-9 rounded-lg border ${C} hover:border-orange-500 flex items-center justify-center transition-all duration-200 ${b} hover:bg-orange-500/10 ${T}`,onClick:n,children:(0,v.jsx)(r,{size:16,className:`sm:w-4 sm:h-4`})}),(0,v.jsxs)(`div`,{className:`p-6 sm:p-8 lg:p-10 text-center`,children:[(0,v.jsx)(`div`,{className:`mb-4 sm:mb-6 flex justify-center`,children:(0,v.jsxs)(`div`,{className:`relative`,children:[(0,v.jsx)(`div`,{className:`w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-red-500 via-rose-500 to-pink-600 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30 animate-scale-in`,children:(0,v.jsx)(a,{className:`text-white`,size:32,strokeWidth:2.5,style:{width:`clamp(28px, 8vw, 40px)`,height:`clamp(28px, 8vw, 40px)`}})}),(0,v.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-red-500/20 animate-ping`}),(0,v.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-red-500/10 animate-ping`,style:{animationDelay:`0.5s`}})]})}),(0,v.jsx)(`h2`,{id:`review-unavailable-title`,className:`text-xl sm:text-2xl lg:text-3xl font-bold mb-2 sm:mb-3 ${b}`,children:m?`Review Sent Successfully!`:`Service Not Available`}),m?(0,v.jsxs)(`div`,{className:`${x} text-sm sm:text-base lg:text-lg mb-4 sm:mb-6 leading-relaxed space-y-2 sm:space-y-3`,children:[(0,v.jsxs)(`p`,{children:[`Your review has been `,(0,v.jsx)(`span`,{className:`font-semibold text-green-500`,children:`sent to the owner via email`}),`, but it won't display on the site until the server is back online.`]}),(0,v.jsx)(`div`,{className:`mt-3 sm:mt-4 p-3 sm:p-4 bg-green-50 dark:bg-green-950/30 rounded-lg border border-green-200 dark:border-green-900/30`,children:(0,v.jsxs)(`div`,{className:`flex items-start gap-2 sm:gap-3`,children:[(0,v.jsx)(e,{className:`text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0`,size:18,style:{width:`clamp(16px, 4vw, 20px)`,height:`clamp(16px, 4vw, 20px)`}}),(0,v.jsxs)(`div`,{className:`text-left`,children:[(0,v.jsx)(`p`,{className:`text-xs sm:text-sm font-semibold ${b} mb-1`,children:`What this means:`}),(0,v.jsxs)(`ul`,{className:`text-xs sm:text-sm ${x} space-y-1 list-disc list-inside`,children:[(0,v.jsx)(`li`,{children:`Your review was emailed to the owner`}),(0,v.jsx)(`li`,{children:`It won't display on the site yet`}),(0,v.jsx)(`li`,{children:`The server needs to be running to display it`}),(0,v.jsx)(`li`,{children:`Your feedback is safe and will appear once the server is online`})]})]})]})})]}):(0,v.jsxs)(`div`,{className:`${x} text-sm sm:text-base lg:text-lg mb-4 sm:mb-6 leading-relaxed space-y-2 sm:space-y-3`,children:[(0,v.jsxs)(`p`,{children:[`We're sorry, but the review service is `,(0,v.jsx)(`span`,{className:`font-semibold text-red-500`,children:`currently unavailable`}),`.`]}),(0,v.jsx)(`div`,{className:`mt-3 sm:mt-4 p-3 sm:p-4 bg-red-50 dark:bg-red-950/30 rounded-lg border border-red-200 dark:border-red-900/30`,children:(0,v.jsxs)(`div`,{className:`flex items-start gap-2 sm:gap-3`,children:[(0,v.jsx)(f,{className:`text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0`,size:18,style:{width:`clamp(16px, 4vw, 20px)`,height:`clamp(16px, 4vw, 20px)`}}),(0,v.jsxs)(`div`,{className:`text-left`,children:[(0,v.jsx)(`p`,{className:`text-xs sm:text-sm font-semibold ${b} mb-1`,children:`What happened:`}),(0,v.jsxs)(`ul`,{className:`text-xs sm:text-sm ${x} space-y-1 list-disc list-inside`,children:[(0,v.jsx)(`li`,{children:`The server is not responding`}),(0,v.jsx)(`li`,{children:`Your review could not be saved`}),i&&(0,v.jsx)(`li`,{children:`We can send it via email instead`})]})]})]})}),g&&(0,v.jsx)(`div`,{className:`mt-3 sm:mt-4 p-3 sm:p-4 bg-red-50 dark:bg-red-950/30 rounded-lg border border-red-200 dark:border-red-900/30`,children:(0,v.jsxs)(`div`,{className:`flex items-start gap-2 sm:gap-3`,children:[(0,v.jsx)(f,{className:`text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0`,size:18,style:{width:`clamp(16px, 4vw, 20px)`,height:`clamp(16px, 4vw, 20px)`}}),(0,v.jsxs)(`div`,{className:`text-left`,children:[(0,v.jsx)(`p`,{className:`text-xs sm:text-sm font-semibold ${b} mb-1`,children:`Email Failed`}),(0,v.jsx)(`p`,{className:`text-xs sm:text-sm ${x}`,children:`Email sending failed. Please try again later or contact us directly at joma.enrique.up@phinmaed.com`})]})]})})]}),(0,v.jsx)(`div`,{className:`flex flex-col gap-2`,children:m?(0,v.jsxs)(`button`,{onClick:n,className:`w-full px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center gap-2 text-sm sm:text-base`,children:[(0,v.jsx)(e,{size:18}),`Understood`]}):(0,v.jsxs)(v.Fragment,{children:[i&&(0,v.jsx)(`button`,{onClick:w,disabled:d,className:`w-full px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center gap-2 text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed`,children:d?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a,{className:`animate-spin`,size:18}),`Sending Email...`]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l,{size:18}),`Send Review via Email Instead`]})}),(0,v.jsx)(`button`,{onClick:n,className:`w-full px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center gap-2 text-sm sm:text-base`,children:`Close`})]})})]})]})]})}function x({isOpen:t,onClose:n,reviewerName:i,rating:o}){let{theme:s}=c(),u=(0,_.useRef)(null),d=s===`dark`?`text-white`:`text-black`,f=s===`dark`?`text-gray-300`:`text-gray-600`,p=s===`dark`?`bg-gray-900`:`bg-white`,m=s===`dark`?`border-gray-800`:`border-gray-200`;if((0,_.useEffect)(()=>{if(!t)return;u.current?.focus();let e=e=>{e.key===`Escape`&&n()};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[t,n]),!t)return null;let h=`focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900`;return(0,v.jsxs)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center px-3 sm:px-4 py-4 sm:py-8 overflow-y-auto`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":`review-sent-title`,onClick:n,children:[(0,v.jsx)(`div`,{className:`absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in`}),(0,v.jsxs)(`div`,{ref:u,tabIndex:-1,role:`document`,className:`relative max-w-md w-full ${p} border ${m} rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden focus:outline-none animate-fade-in-up ${h}`,onClick:e=>e.stopPropagation(),children:[(0,v.jsx)(`button`,{"aria-label":`Close modal`,className:`absolute top-3 right-3 sm:top-4 sm:right-4 w-8 h-8 sm:w-9 sm:h-9 rounded-lg border ${m} hover:border-orange-500 flex items-center justify-center transition-all duration-200 ${d} hover:bg-orange-500/10 ${h}`,onClick:n,children:(0,v.jsx)(r,{size:14,className:`sm:w-4 sm:h-4`})}),(0,v.jsxs)(`div`,{className:`p-6 sm:p-8 lg:p-10 text-center`,children:[(0,v.jsx)(`div`,{className:`mb-4 sm:mb-6 flex justify-center`,children:(0,v.jsxs)(`div`,{className:`relative`,children:[(0,v.jsx)(`div`,{className:`w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-lg shadow-green-500/30 animate-scale-in`,children:(0,v.jsx)(e,{className:`text-white`,size:32,strokeWidth:2.5,style:{width:`clamp(28px, 8vw, 40px)`,height:`clamp(28px, 8vw, 40px)`}})}),(0,v.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-green-500/20 animate-ping`}),(0,v.jsx)(`div`,{className:`absolute inset-0 rounded-full bg-green-500/10 animate-ping`,style:{animationDelay:`0.5s`}})]})}),(0,v.jsx)(`h2`,{id:`review-sent-title`,className:`text-xl sm:text-2xl lg:text-3xl font-bold mb-2 sm:mb-3 ${d}`,children:`Review Sent Successfully!`}),(0,v.jsxs)(`div`,{className:`${f} text-sm sm:text-base lg:text-lg mb-4 sm:mb-6 leading-relaxed space-y-2 sm:space-y-3`,children:[(0,v.jsxs)(`p`,{children:[`Thank you, `,(0,v.jsx)(`span`,{className:`font-semibold text-orange-500`,children:i}),`! Your `,(0,v.jsxs)(`span`,{className:`font-semibold text-orange-500`,children:[o,`-star`]}),` rating has been `,(0,v.jsx)(`span`,{className:`font-semibold text-green-500`,children:`sent to the owner`}),` via email.`]}),(0,v.jsx)(`div`,{className:`mt-3 sm:mt-4 p-3 sm:p-4 bg-amber-50 dark:bg-amber-950/30 rounded-lg border border-amber-200 dark:border-amber-900/30`,children:(0,v.jsxs)(`div`,{className:`flex items-start gap-2 sm:gap-3`,children:[(0,v.jsx)(a,{className:`text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0`,size:18,style:{width:`clamp(16px, 4vw, 20px)`,height:`clamp(16px, 4vw, 20px)`}}),(0,v.jsxs)(`div`,{className:`text-left`,children:[(0,v.jsx)(`p`,{className:`text-xs sm:text-sm font-semibold ${d} mb-1`,children:`Important Note:`}),(0,v.jsxs)(`ul`,{className:`text-xs sm:text-sm ${f} space-y-1 list-disc list-inside`,children:[(0,v.jsx)(`li`,{children:`Your review was emailed to the owner`}),(0,v.jsx)(`li`,{children:`It won't display on the site yet`}),(0,v.jsx)(`li`,{children:`The server needs to be running to display it`}),(0,v.jsx)(`li`,{children:`Your feedback is safe and will appear once the server is online`})]})]})]})}),(0,v.jsx)(`div`,{className:`mt-3 sm:mt-4 p-3 sm:p-4 bg-green-50 dark:bg-green-950/30 rounded-lg border border-green-200 dark:border-green-900/30`,children:(0,v.jsxs)(`div`,{className:`flex items-start gap-2 sm:gap-3`,children:[(0,v.jsx)(l,{className:`text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0`,size:18,style:{width:`clamp(16px, 4vw, 20px)`,height:`clamp(16px, 4vw, 20px)`}}),(0,v.jsxs)(`div`,{className:`text-left`,children:[(0,v.jsx)(`p`,{className:`text-xs sm:text-sm font-semibold ${d} mb-1`,children:`What this means:`}),(0,v.jsx)(`p`,{className:`text-xs sm:text-sm ${f}`,children:`The owner has received your review via email and will process it once the server is back online. Your feedback is important and will be displayed soon!`})]})]})})]}),(0,v.jsx)(`button`,{onClick:n,className:`w-full px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center gap-2 text-sm sm:text-base`,children:`Understood`})]})]})]})}function S({language:n,visibleSections:r}){let{theme:a}=c(),[l,u]=(0,_.useState)(!1),[f,p]=(0,_.useState)([]),[m,S]=(0,_.useState)(!0),C=(0,_.useRef)(null),w=(0,_.useRef)(null),[T,E]=(0,_.useState)(!1),[D,O]=(0,_.useState)(!1),[k,A]=(0,_.useState)(!1),[j,M]=(0,_.useState)(!1),[N,P]=(0,_.useState)(!1),[F,I]=(0,_.useState)(!1),[L,R]=(0,_.useState)(``),[z,B]=(0,_.useState)(5),[V,H]=(0,_.useState)({name:``,role:``,company:``,email:``,rating:5,review:``});(0,_.useEffect)(()=>{(async()=>{try{let e=await fetch(`http://localhost:8000/api/reviews/`);if(!e.ok){S(!1);return}let t=await e.json();Array.isArray(t)&&p(t)}catch{}finally{S(!1)}})()},[]),(0,_.useEffect)(()=>{C.current=new BroadcastChannel(`reviews`),C.current.onmessage=e=>{let t=e.data;t?.type===`deleted`&&typeof t.id==`number`&&p(e=>e.filter(e=>e.id!==t.id))};let e=()=>{fetch(`http://localhost:8000/api/reviews/`).then(e=>e.ok?e.json():null).then(e=>{Array.isArray(e)&&p(e)}).catch(()=>{})};return window.addEventListener(`focus`,e),()=>{try{C.current?.close()}catch{}window.removeEventListener(`focus`,e)}},[]),(0,_.useEffect)(()=>{if(!w.current)return;let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(E(!0),e.disconnect())})},{root:null,rootMargin:`0px`,threshold:.1});return e.observe(w.current),()=>e.disconnect()},[]);let U=a===`dark`?`text-white`:`text-black`,W=a===`dark`?`text-gray-300`:`text-gray-600`,G=a===`dark`?`bg-gray-950`:`bg-gray-50`,K=a===`dark`?`bg-gray-900`:`bg-white`,q=a===`dark`?`border-gray-800`:`border-gray-200`,J=a===`dark`?`bg-gray-900/50`:`bg-white`;return(0,v.jsxs)(`section`,{id:`reviews`,"data-section":`reviews`,ref:w,className:`py-12 sm:py-16 lg:py-20 ${G}`,children:[(0,v.jsxs)(`div`,{className:`max-w-7xl mx-auto px-4 sm:px-6`,children:[(0,v.jsx)(`div`,{className:`${T?`animate-fade-in-up`:``}`,style:{animationDelay:`0.05s`},children:(0,v.jsx)(s,{label:t(n,`reviews.section`),title:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(`span`,{className:`${U}`,children:[t(n,`reviews.heading1`),` `]}),(0,v.jsx)(`span`,{className:`text-orange-500`,children:t(n,`reviews.heading2`)})]}),subtitle:t(n,`reviews.subtitle`),align:`center`,textPrimaryClass:U,textSecondaryClass:W})}),(0,v.jsxs)(d,{className:`mt-4 sm:mt-6 max-w-4xl mx-auto text-left mb-8 sm:mb-10 p-5 sm:p-6 lg:p-8 ${T?`animate-fade-in-up`:``}`,bgCardClass:K,borderBaseClass:q,children:[(0,v.jsx)(`h3`,{className:`text-sm font-semibold mb-4 sm:mb-5 ${U}`,children:t(n,`reviews.howItWorks`)}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-5`,children:[(0,v.jsxs)(`div`,{className:`flex items-start gap-3 p-5 sm:p-6 rounded-lg border ${q} transition-all duration-300 hover:border-orange-500 hover:shadow-md`,children:[(0,v.jsx)(e,{className:`text-orange-500 shrink-0 mt-0.5`,size:20}),(0,v.jsx)(`p`,{className:`${W} text-sm leading-relaxed`,children:t(n,`reviews.point1`)})]}),(0,v.jsxs)(`div`,{className:`flex items-start gap-3 p-5 sm:p-6 rounded-lg border ${q} transition-all duration-300 hover:border-orange-500 hover:shadow-md`,children:[(0,v.jsx)(e,{className:`text-orange-500 shrink-0 mt-0.5`,size:20}),(0,v.jsx)(`p`,{className:`${W} text-sm leading-relaxed`,children:t(n,`reviews.point2`)})]}),(0,v.jsxs)(`div`,{className:`flex items-start gap-3 p-5 sm:p-6 rounded-lg border ${q} transition-all duration-300 hover:border-orange-500 hover:shadow-md`,children:[(0,v.jsx)(e,{className:`text-orange-500 shrink-0 mt-0.5`,size:20}),(0,v.jsx)(`p`,{className:`${W} text-sm leading-relaxed`,children:t(n,`reviews.point3`)})]})]})]}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8 mt-8 sm:mt-10`,children:[m&&(0,v.jsx)(d,{bgCardClass:K,borderBaseClass:q,className:`p-6 col-span-1 sm:col-span-2 lg:col-span-3 text-center`,children:(0,v.jsx)(`p`,{className:`${W} text-sm`,children:`Loading reviews...`})}),!m&&f.length===0&&(0,v.jsx)(d,{bgCardClass:K,borderBaseClass:q,className:`p-6 col-span-1 sm:col-span-2 lg:col-span-3 text-center`,children:(0,v.jsx)(`p`,{className:`${W} text-sm`,children:`No reviews yet. Be the first to share your experience.`})}),!m&&f.map((e,t)=>(0,v.jsxs)(`div`,{className:`${K} rounded-lg p-6 border ${q} transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${T?`animate-fade-in-up`:``}`,style:{animationDelay:`${.1+t*.08}s`},children:[(0,v.jsx)(`div`,{className:`flex items-center gap-1 mb-4`,children:[...Array(e.rating)].map((e,t)=>(0,v.jsx)(i,{className:`text-orange-500 fill-orange-500`,size:16},t))}),(0,v.jsx)(h,{className:`${W} mb-4 opacity-50`,size:24}),(0,v.jsx)(`p`,{className:`${W} mb-4 leading-relaxed text-sm`,children:e.review}),(0,v.jsxs)(`div`,{className:`pt-4 border-t border-gray-200 dark:border-gray-800`,children:[(0,v.jsx)(`p`,{className:`font-semibold ${U} text-sm`,children:e.name}),(0,v.jsxs)(`p`,{className:`${W} text-xs`,children:[e.role,` at `,e.company]})]})]},`review-${e.id||t}`))]}),(0,v.jsxs)(`div`,{className:`max-w-2xl mx-auto ${K} border ${q} rounded-lg p-4 sm:p-6 transition-all duration-300 hover:shadow-lg ${T?`animate-fade-in-up`:``}`,style:{animationDelay:`0.12s`},children:[(0,v.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4`,children:[(0,v.jsx)(`h3`,{className:`text-lg sm:text-xl font-bold ${U}`,children:t(n,`reviewForm.title`)}),(0,v.jsx)(`button`,{onClick:()=>u(!l),className:`w-full sm:w-auto px-4 py-2 ${l?`bg-gray-200 dark:bg-gray-700`:`bg-orange-500 hover:bg-orange-600`} text-white rounded-lg transition-colors duration-200 text-sm font-semibold`,children:l?t(n,`reviewForm.cancel`):t(n,`reviewForm.leave`)})]}),l&&(0,v.jsxs)(`form`,{onSubmit:async e=>{e.preventDefault(),I(!0);try{let e=await fetch(`http://localhost:8000/api/reviews/`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({name:V.name,role:V.role,company:V.company,email:V.email||void 0,rating:V.rating,review:V.review})}),t=await e.json();if(!e.ok)throw Error(t?.error||`Failed to submit`);if(t)if(p(e=>[t,...e]),R(V.name),B(V.rating),H({name:``,role:``,company:``,email:``,rating:5,review:``}),u(!1),t.email_sent===!1)A(!0);else{O(!0);try{let e=new BroadcastChannel(`reviews`);e.postMessage({type:`submitted`,rating:V.rating}),e.close()}catch{}}}catch(e){e?.message?.toLowerCase().includes(`failed to fetch`)||e?.message?.toLowerCase().includes(`networkerror`)||e?.message?.toLowerCase().includes(`network error`)||e?.message?.toLowerCase().includes(`load failed`)||e?.name===`TypeError`||e?.name===`NetworkError`||e?.code===`ERR_NETWORK`||e?.code,M(!0)}finally{I(!1)}},className:`space-y-3 sm:space-y-4`,children:[(0,v.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4`,children:[(0,v.jsx)(`input`,{type:`text`,placeholder:t(n,`reviewForm.name`),value:V.name,onChange:e=>H({...V,name:e.target.value}),required:!0,className:`${J} border ${q} ${U} rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500`}),(0,v.jsx)(`input`,{type:`text`,placeholder:t(n,`reviewForm.role`),value:V.role,onChange:e=>H({...V,role:e.target.value}),required:!0,className:`${J} border ${q} ${U} rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500`}),(0,v.jsx)(`input`,{type:`text`,placeholder:t(n,`reviewForm.company`),value:V.company,onChange:e=>H({...V,company:e.target.value}),required:!0,className:`${J} border ${q} ${U} rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500`})]}),(0,v.jsx)(`div`,{children:(0,v.jsx)(`input`,{type:`email`,placeholder:t(n,`reviewForm.email`),value:V.email,onChange:e=>H({...V,email:e.target.value}),className:`w-full ${J} border ${q} ${U} rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500`})}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`label`,{className:`block mb-2 text-sm font-semibold ${U}`,children:t(n,`reviewForm.rating`)}),(0,v.jsx)(`div`,{className:`flex gap-2`,children:[1,2,3,4,5].map(e=>(0,v.jsx)(`button`,{type:`button`,onClick:()=>H({...V,rating:e}),className:`transition-transform duration-200 hover:scale-110 rating-star`,"aria-label":`Set rating ${e}`,children:(0,v.jsx)(i,{className:V.rating>=e?`text-orange-500 fill-orange-500`:`text-gray-300 dark:text-gray-600`,size:24,"aria-hidden":`true`})},e))})]}),(0,v.jsx)(`div`,{children:(0,v.jsx)(`textarea`,{placeholder:t(n,`reviewForm.placeholder`),value:V.review,onChange:e=>H({...V,review:e.target.value}),required:!0,rows:4,className:`w-full ${J} border ${q} ${U} rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none`})}),(0,v.jsxs)(`button`,{type:`submit`,disabled:F,className:`w-full px-6 py-3 ${F?`bg-orange-400 cursor-not-allowed`:`bg-orange-500 hover:bg-orange-600`} text-white font-semibold rounded-lg transition-all duration-300 shadow-md ${F?``:`hover:shadow-lg hover:scale-105`} flex items-center justify-center gap-2`,children:[(0,v.jsx)(g,{size:18,className:F?`animate-spin`:``}),F?`Submitting Review...`:t(n,`reviewForm.submit`)]})]})]})]}),(0,v.jsx)(y,{isOpen:D,onClose:()=>O(!1),language:n,reviewerName:L,rating:z}),(0,v.jsx)(o,{isOpen:k,onClose:()=>A(!1)}),(0,v.jsx)(b,{isOpen:j,onClose:()=>{M(!1),H({name:``,role:``,company:``,email:``,rating:5,review:``}),u(!1)},reviewData:V,onEmailSent:()=>{R(V.name),B(V.rating),H({name:``,role:``,company:``,email:``,rating:5,review:``}),u(!1),M(!1),P(!0);try{let e=new BroadcastChannel(`reviews`);e.postMessage({type:`submitted`,rating:V.rating}),e.close()}catch{}}}),(0,v.jsx)(x,{isOpen:N,onClose:()=>P(!1),reviewerName:L,rating:z})]})}export{S as default};